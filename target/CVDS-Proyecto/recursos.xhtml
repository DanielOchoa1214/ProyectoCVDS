<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:o="http://omnifaces.org/ui"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Recursos de la Biblioteca</title>
    <link rel="stylesheet" href="insertRecurso.css"/>
</h:head>
<h:body>
    <h:form>
        <p:inputText value="Holi" binding="#{testing}"/>
        <p:commandButton value="Tester" action="#{mb.test(testing.value)}"/>
    </h:form>
    <div class="form-div">
        <h2 class="register-title">¿Que tipo de recurso quieres ingresar?</h2>
        <div class="form-choice-div">
            <p:commandButton class="register-btn btn" value="Libro" oncomplete="PF('saveLibro').show();"/>
            <p:commandButton class="register-btn btn" value="Portatil" oncomplete="PF('savePortatil').show();"/>
        </div>
    </div>
    <p:dialog header="Ingresa un libro" widgetVar="saveLibro" modal="true" class="reserva-popup">
        <div>
            <h:form onkeypress="if (event.keycode == 13) {return false;}">
                <label>
                    Nombre del libro en biblioteca:
                    <p:inputText id="nombre_libro" class="form-inputs" binding="#{bookName}"/>
                </label>
                <label>
                    Autor del libro:
                    <p:inputText id="autor_libro" class="form-inputs" binding="#{bookAuthor}"/>
                </label>
                <label>
                    ¿Es de pasta dura?
                    <p:selectBooleanButton onLabel="Si" offLabel="No" onIcon="pi pi-check" offIcon="pi pi-times" style="width:6rem" binding="#{bookHardCover}"/>
                </label>
                <label>
                    Numero de paginas
                    <p:inputText id="paginas_libro" class="form-inputs" binding="#{bookPages}"/>
                </label>
                <label>
                    Genero del libro:
                    <p:selectOneMenu value="#{mb.generoLibro}" >
                        <f:selectItems value="#{mb.generosLibro}" />
                    </p:selectOneMenu>
                </label>
                <label>
                    Ubicación del libro en la biblioteca:
                    <p:inputText id="ubicacion_libro" class="form-inputs" binding="#{bookLocation}"/>
                </label>
                <label>
                    Información sobre el libro:
                    <p:inputText id="info_libro" class="form-inputs" binding="#{bookInfo}"/>
                </label>
                <label>
                    Numero de libros ingresados:
                    <p:inputText id="capacidad_libro" class="form-inputs" binding="#{bookCapacity}"/>
                </label>
                <label>
                    Identificador del libro:
                    <p:inputText id="id_libro" class="form-inputs" binding="#{bookId}" validatorMessage="El id debe tener 3 letras separadas por un guion seguido de 3 números :(">
                        <f:validateRegex pattern="^[A-Z]{3}-[0-9]{3}$"/>
                    </p:inputText>
                </label>
                <p:messages class="message-error">
                    <p:autoUpdate/>
                </p:messages>
                <label>
                    Hora de inicio de horario de reservas:
                    <p:inputText id="horario_inicio_libro" class="form-inputs" binding="#{bookBookingScheduleStart}"/>
                </label>
                <label>
                    Hora de fin de horario de reservas:
                    <p:inputText id="horario_fin_libro" class="form-inputs" binding="#{bookBookingScheduleEnd}"/>
                </label>
                <label>
                    Estado del libro:
                    <p:selectOneMenu value="#{mb.estadoRecurso}" >
                        <f:selectItems value="#{mb.estadosRecurso}" />
                    </p:selectOneMenu>
                </label>
                <p:commandButton class="register-btn btn" value="Registrar" action="#{mb.saveLibro(bookName.value, bookLocation.value, bookCapacity.value, bookId.value, bookInfo.value, bookBookingScheduleStart.value, bookBookingScheduleEnd.value, bookAuthor.value, bookHardCover.value, bookPages.value)}"/>
            </h:form>
        </div>
    </p:dialog>
</h:body>
</html>
